diff -Naur gnu-orig/gcc-12.10/gcc/cp/fstat-mingw-fix.h gnu/gcc-12.10/gcc/cp/fstat-mingw-fix.h
--- gnu-orig/gcc-12.10/gcc/cp/fstat-mingw-fix.h	1970-01-01 08:00:00.000000000 +0800
+++ gnu/gcc-12.10/gcc/cp/fstat-mingw-fix.h	2022-05-30 18:06:48.000000000 +0800
@@ -0,0 +1,23 @@
+#ifndef __H_FSTAT_MINGW_FIX
+#define __H_FSTAT_MINGW_FIX
+/* Copied from gcc-12.10/libgfortran/io/unix.c */
+
+/* These flags aren't defined on all targets (mingw32), so provide them
+   here.  */
+#ifndef S_IRGRP
+#define S_IRGRP 0
+#endif
+
+#ifndef S_IWGRP
+#define S_IWGRP 0
+#endif
+
+#ifndef S_IROTH
+#define S_IROTH 0
+#endif
+
+#ifndef S_IWOTH
+#define S_IWOTH 0
+#endif
+
+#endif  /* __H_FSTAT_MINGW_FIX */
diff -Naur gnu-orig/gcc-12.10/gcc/cp/module.cc gnu/gcc-12.10/gcc/cp/module.cc
--- gnu-orig/gcc-12.10/gcc/cp/module.cc	2022-05-30 18:06:44.000000000 +0800
+++ gnu/gcc-12.10/gcc/cp/module.cc	2022-05-30 18:06:48.000000000 +0800
@@ -229,6 +229,8 @@
 #define CODY_NETWORKING 0
 #include "mapper-client.h"
 
+#include "fstat-mingw-fix.h"
+
 #if 0 // 1 for testing no mmap
 #define MAPPED_READING 0
 #define MAPPED_WRITING 0
